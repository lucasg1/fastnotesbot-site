---
const options = [
  { price: 3, hours: 5, months: 1 },
  { price: 5, hours: 10, months: 1 },
  { price: 10, hours: 30, months: 3 },
  { price: 20, hours: 80, months: 3 },
  { price: 40, hours: 200, months: 6 },
];
const inviteUrl = Astro.props.inviteUrl || "#";
---
<section class="relative py-16 section-pricing">
  <div class="container-xxl">
  <div class="text-center">
    <h2 class="text-3xl sm:text-4xl font-bold">Simple pricing</h2>
    <p class="mt-3 text-brand-200">Use the slider to see how many hours youâ€™ll gain and when credits expire.</p>
  </div>

  <div id="pricing-calculator" class="mt-10 max-w-2xl mx-auto" data-options={JSON.stringify(options)}>
    <div class="rounded-2xl p-6 bg-[var(--card)] border border-white/20 shadow-soft transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-brand-400/60">
      <h3 class="text-xl font-semibold">Hours Calculator</h3>

      <div class="mt-6">
        <div class="flex items-baseline justify-between">
          <p class="text-brand-200">Selected amount</p>
          <p class="text-3xl font-bold"><span id="priceDisplay">{'$' + options[0].price}</span></p>
        </div>

        <input id="priceSlider" type="range" min="0" max={options.length - 1} step="1" value={0} class="mt-4 w-full accent-brand-500" aria-label="Price selector" />
        <div class="mt-2 flex justify-between text-xs text-brand-200">
          {options.map((o) => (<span data-astro-key={`tick-${o.price}`}>{'$' + o.price}</span>))}
        </div>
      </div>

      <div class="mt-8 grid sm:grid-cols-2 gap-4">
        <div class="rounded-xl border border-white/20 p-4 bg-white/5 transition-all duration-300 hover:bg-white/10 hover:-translate-y-0.5 hover:border-brand-300/60 hover:shadow-lg">
          <p class="text-brand-200 text-sm">You will gain</p>
          <p class="mt-1 text-2xl font-bold"><span id="hoursDisplay">{options[0].hours}</span> hours</p>
        </div>
        <div class="rounded-xl border border-white/20 p-4 bg-white/5 transition-all duration-300 hover:bg-white/10 hover:-translate-y-0.5 hover:border-brand-300/60 hover:shadow-lg">
          <p class="text-brand-200 text-sm">Credits expire</p>
          <p class="mt-1 text-2xl font-bold"><span id="expiryDisplay">{options[0].months} month{options[0].months > 1 ? 's' : ''}</span></p>
        </div>
      </div>

      <a href={inviteUrl} class="btn mt-6 w-full text-center">Start free</a>

      <p class="mt-4 text-sm text-brand-200/80 text-center">Credits expire after the period shown above from purchase.</p>
    </div>
  </div>
  </div>
</section>

<script is:inline type="module">import '/src/scripts/pricing.ts';</script>
